Rewirtten using fucntional components with hooks (useState and useEffect) instead of class components
